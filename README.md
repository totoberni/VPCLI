Error: it seems the main.py is not able to diractly clear the whole historic console chat. When we call console.clear() we don't delete the past outputs, which may be stored elsewhere or just not accessible from the main loop.

# Financial Strategist CLI

## 1. Project Overview

This command-line interface (CLI) is the user-facing application for the "Oxygen-Analytics" predictive engine. The primary goal of the engine is to provide sophisticated, data-driven investment strategies for a portfolio of tech stocks (Apple, NVIDIA, Google). It leverages time-series analysis and machine learning to analyze the impact of financial sentiment, derived from SEC filings, on future stock performance.

This tool provides a hybrid analysis, offering two distinct types of strategic recommendations based on the user's selected investment horizon.

## 2. System Architecture: A Hybrid Approach

The entire system is composed of two distinct components that work in tandem:

#### **A. The Offline Training & Analysis Pipeline** (`AnalystSentimentEDA.ipynb`)

This Jupyter Notebook is where all the computationally intensive work is performed. Its responsibilities include:
- Ingesting and cleaning raw sentiment and stock price data.
- Engineering a wide array of multi-horizon features (e.g., `Future_Return_36M`).
- Performing a comprehensive lead-lag correlation analysis to identify the most potent predictive signals.
- **Training and Tuning:** For short-to-medium horizons (1M-36M), it trains an ensemble of `XGBoost` models for each company and horizon, using `Optuna` for exhaustive hyperparameter optimization.
- **Historical Analysis:** For long horizons (48M-84M) where historical data shows deterministic outcomes, it performs a deep statistical analysis instead of training a model.

The final output of this offline pipeline is a set of **data artifacts**â€”serialized Python objects (`.pkl` files) that contain the "intelligence" of the system.

#### **B. The Live Inference CLI** (This Project)

This CLI tool is a lightweight, fast, and interactive application that **consumes** the data artifacts generated by the offline pipeline. It performs no model training or heavy analysis itself. Its responsibilities are:
- **Live Predictive Simulation:** When a user selects a short-term horizon (e.g., 12M), the CLI loads the appropriate pre-trained `XGBoost` models and runs a **real-time simulation** to generate a rulebook of potential investment actions and their predicted outcomes.
- **Instant Historical Reporting:** When a user selects a long-term horizon (e.g., 48M), the CLI loads the pre-computed historical analysis and instantly displays the most powerful, high-certainty investment scenarios discovered in the historical data.
- **User Interface:** Provides a clean, interactive prompt for users to select their desired company and investment horizon, and displays the results in a polished, readable format.

## 3. Required Assets

For the CLI to function, it requires the following artifacts to be placed in its `assets/` directory. These are the final outputs from the Phase 6 notebook pipeline.

-   **`trained_pipelines.pkl`**: Contains the dictionary of all trained XGBoost model suites.
-   **`historical_certainty_reports.pkl`**: Contains the dictionary of all pre-computed historical analysis DataFrames.
-   **`modeling_datasets.pkl`**: Contains the reference training data (`X_train`) needed to create a baseline for live simulations.
-   **`master_performance_report.html`**: An optional, consolidated HTML report for reviewing model performance.

## 4. Usage (Prototype)

1.  Ensure all dependencies are installed from the `pyproject.toml` file (`pip install .`).

2.  Run the application from the terminal:
    ```bash
    strategy-report
    ```
3.  Follow the interactive prompts to receive a strategic report.

## 5. Deployment & Usage (for End-Users via Docker)

This application and its complex dependencies (Python, NVIDIA CUDA Toolkit, etc.) are packaged into a Docker container for a simple, one-command execution.

**Prerequisites:**
-   [Docker](https://www.docker.com/products/docker-desktop/) must be installed on your system.
-   For GPU support, the [NVIDIA Container Toolkit](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html) must be installed.

**To run the application:**

Open your terminal and execute the following command. Docker will automatically download and run the tool.

```bash
# Example command (replace with your actual image name)
docker run --rm -it --gpus all your-repo/financial-strategist-cli:latest
```

You will be greeted by the interactive prompt to generate a report.

---

## 6. Development Setup (for Contributors)

Developers work in a local Python virtual environment for a fast feedback loop. Docker is used for final packaging, not for day-to-day coding.

**Prerequisites:**
-   Python 3.12+
-   `venv` module (usually included with Python)

**Steps:**
1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd financial_strategist_cli
    ```
2.  **Create and activate a virtual environment:**
    -   **Windows (PowerShell):**
        ```powershell
        python -m venv .venv
        .\.venv\Scripts\Activate.ps1
        ```
    -   **macOS/Linux:**
        ```bash
        python3 -m venv .venv
        source .venv/bin/activate
        ```
3.  **Install dependencies in editable mode:**
    ```bash
    pip install -e .
    ```
4.  **Run the CLI for testing:**
    ```bash
    strategy-report run
    ```

## 7. Required Assets

For the CLI to function, the following artifacts from the offline pipeline must be placed in the `assets/` directory before building the Docker image:

-   `trained_pipelines.pkl`
-   `historical_certainty_reports.pkl`
-   `modeling_datasets.pkl`
-   `master_performance_report.html` (optional)